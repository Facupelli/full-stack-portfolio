---
import { Icon } from "astro-icon/components";
import Section from "./section/section.astro";
import SectionTitle from "./section/section-title.astro";
import Image from "astro/components/Image.astro";
import CorralaStudio from "../images/corrala-studio.png";
import BoletinOficial from "../images/boletin-oficial.png";

const projects = [
  {
    id: 1,
    title: "Boletin Oficial",
    description:
      "A web app that automatically downloads Argentina's Boletin Oficial daily, uses AI to generate easy-to-read summaries, and highlights relevant news categorized for citizens. Features an AI assistant that can answer questions about the full document in real time.",
    image: BoletinOficial,
    technologies: ["Astro", "Python", "FastAPI", "Google IA", "SQLite"],
    motivation:
      "I am not a fan of watching the news, but I believe it's important to stay informed about what's happening in your country. With so many rapid changes in Argentina's government, I built this tool as a personal way to stay up to dateâ€”without the noise or bias of traditional media.",
  },
  {
    id: 2,
    title: "Corrala Studio",
    description:
      "A comprehensive platform connecting filmmakers with video editors through dedicated project managers. Streamlines the entire video workflow by managing briefs, revisions, and final delivery to ensure smooth collaboration between creative teams.",
    image: CorralaStudio,
    websiteUrl: "https://corralastudio.com",
    technologies: ["Next.js", "PostgreSQL", "Cloudflare R2 - KV", "Supabase"],
    motivation:
      "A filmmaker friend and I noticed a common gap between filmmakers and editors, the final product is always better when each person focuses on what they truly enjoy. This platform is our solution to bridge that gap, so both sides can do their best work and stay happy doing what they love.",
  },
];
---

<Section class="pt-32 relative">
  <SectionTitle>SIDE PROJECTS</SectionTitle>

  <div class="mt-20 grid lg:grid-cols-[1fr_1fr] gap-16 lg:gap-20 min-h-[500px]">
    {
      projects.map((project) => (
        <div class="p-6 bg-gradient-to-bl from-indigo-500/50 to-fuchsia-600/50 rounded-lg space-y-6 shadow-2xl self-start">
          <div class="flex justify-center items-center gap-4">
            <h1 class="font-bold text-3xl text-center">{project.title}</h1>

            {project.websiteUrl && (
              <a
                href={project.websiteUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="p-2 bg-white/20 hover:bg-white/30 text-white font-medium rounded-lg border border-white/20 hover:border-white/40"
              >
                <Icon name="external-link" class="size-4" />
              </a>
            )}
          </div>

          <div class="w-full max-h-[500px]">
            <Image
              src={project.image}
              alt="Boletin Oficial side project"
              width="800"
              height="800"
              class="w-full h-full object-cover origin-center rounded-md"
            />
          </div>

          {/* Content Section */}
          <div class="space-y-6">
            {/* Description */}
            <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20">
              <p class="text-white/95 leading-relaxed text-sm">
                {project.description}
              </p>
            </div>

            {/* Technologies */}
            <div class="flex flex-wrap gap-2">
              {project.technologies.map((tech) => (
                <span class="px-3 py-1.5 bg-white/25 hover:bg-white/35 text-white text-xs font-medium rounded-md border border-white/30 backdrop-blur-sm transition-colors duration-200">
                  {tech}
                </span>
              ))}
            </div>
          </div>

          {/* Motivation - Improved styling */}
          <details class="group bg-white/5 rounded-lg border border-white/20 overflow-hidden">
            <summary class="cursor-pointer p-4 hover:bg-white/10 transition-colors list-none">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <span class="text-white font-semibold">Motivation</span>
                </div>
                <svg
                  class="w-5 h-5 text-white/80 transform group-open:rotate-180 transition-transform duration-200"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width={2}
                    d="M19 9l-7 7-7-7"
                  />
                </svg>
              </div>
            </summary>

            <div class="px-4 pb-4">
              <p class="text-white/90 pt-2 leading-relaxed text-sm">
                {project.motivation}
              </p>
            </div>
          </details>
        </div>
      ))
    }
  </div>
</Section>
